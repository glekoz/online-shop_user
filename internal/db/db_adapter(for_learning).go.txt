package db

import (
	"context"

	"github.com/jackc/pgx/v5/pgxpool"
)

type UserDB struct {
	DB *pgxpool.Pool
}

func NewUserDB(ctx context.Context, dsn string) *UserDB {
	// dsn - параметр окружения типа "postgresql://postgres:postgres@db:5432/order?sslmode=disable", где db - адрес хоста (или имя сервиса в докере), order - база данных в СУБД
	pool, err := pgxpool.New(ctx, "postgresql://postgres:postgres@db:5432/order?sslmode=disable")
	if err != nil {
		return nil
	}
	return &UserDB{DB: pool}
}

func (db *UserDB) Get(id int) int {
	return 0
}

func (db *UserDB) Insert(id int) int {
	return 1
}
